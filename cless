#!/bin/bash

# Check if a file is provided as an argument

show_ln=""

while [ $# -gt 1 ]; do
    case "$1" in
        -N)
            show_ln="-N"
            shift
            ;;
        *)
            break
            ;;
    esac
done


if [ -z "$1" ]; then
    echo "Usage: $0 [-N] <file>"
    exit 1
fi

# Check if the file exists
if [ ! -f "$1" ]; then
    echo "Error: File '$1' not found."
    exit 1
fi

# Use highlight if available, otherwise fall back to less
if command -v highlight >/dev/null 2>&1; then
    highlight -O ansi "$1" | less ${show_ln} -R
else
    less "$1"
fi

